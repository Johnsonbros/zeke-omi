<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ZEKE Canvas</title>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#0b1829;--surface:#111f35;--border:rgba(255,255,255,.06);
  --gold:#c8a44e;--white:#fff;--gray:#94a3b8;--text:#dfe6ee;
}
html,body{height:100%;overflow:hidden}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none}
#canvas-root{width:100%;height:100%;position:relative}
.loading{display:flex;flex-direction:column;align-items:center;gap:16px;opacity:.6}
.loading .spinner{width:32px;height:32px;border:2px solid var(--border);border-top-color:var(--gold);border-radius:50%;animation:spin .8s linear infinite}
.loading p{font-size:13px;color:var(--gray);letter-spacing:.5px}
@keyframes spin{to{transform:rotate(360deg)}}
</style>
</head>
<body>
<div id="canvas-root">
  <div class="loading">
    <div class="spinner"></div>
    <p>Connecting to ZEKE...</p>
  </div>
</div>
<script>
// Canvas scaffold â€” bridge between native WebView and OpenClaw Canvas protocol
const root = document.getElementById('canvas-root');

// Native bridge message handler
function onCanvasMessage(json) {
  try {
    const msg = typeof json === 'string' ? JSON.parse(json) : json;
    if (msg.type === 'navigate' && msg.url) {
      window.location.href = msg.url;
    } else if (msg.type === 'html') {
      root.innerHTML = msg.content || '';
    } else if (msg.type === 'eval') {
      eval(msg.js);
    }
  } catch (e) {
    console.error('Canvas message error:', e);
  }
}

// Expose to native
window.onCanvasMessage = onCanvasMessage;

// Notify native that scaffold is ready
try {
  if (window.CanvasBridge) {
    window.CanvasBridge.onReady();
  }
} catch(e) {}
</script>
</body>
</html>
